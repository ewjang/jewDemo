<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jew.mapper.SignUpMapper">

    <insert id="signup" parameterType="com.jew.models.Member">
     /* SignUpMapper.signup [SignUp.xml]  */
     
        <selectKey keyProperty="SEQ" resultType="int" order="BEFORE">
            SELECT MEMBER_SEQ.NEXTVAL FROM DUAL
        </selectKey>

	    INSERT INTO "MEMBER"
        (SEQ, USER_ID, PASSWORD, USER_NM, PHONE_NUM, EMAIL, REG_ID, REG_DT)
        VALUES(#{SEQ}, #{USER_ID}, #{PASSWORD}, #{USER_NM}, #{PHONE_NUM}, #{EMAIL}, 'SYSTEM', SYSDATE)

			
    </insert>

    <select id="checkUserId" resultType="int">
     /* SignUpMapper.checkUserId [SignUp.xml] : 아이디 중복 확인 */

        SELECT COUNT(1)
        FROM "MEMBER"
        WHERE USER_ID = #{userId}
    </select>

</mapper>